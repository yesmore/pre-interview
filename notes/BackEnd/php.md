# php

## 基础篇

### 基本语法

- 注释语法

	- #、/**/

- 语句分隔符

	- ；
	- 最后一行可无

- 变量

	- 定义变量

		- $var = value

	- 访问变量

		- echo

	- 删除变量

		- unset()

	- 预定义变量

		- 系统定义的变量，都是数组
		- $_GET: 获取所有表单以get方式提交的数据 $_POST: POST提交的数据都会保存在此
$_REQUEST: GET和POST提交的都会保存 $GLOBALS: php中所有的全局变量
$_SERVER: 服务器信息
 $_SESSION: session会话数据
 $_COOKIE: cookie会话数据
 $_ENV: 环境信息
 $_FILES: 用户上传的文件信息

	- 可变变量

		- 类似C++指针地址
		- $$a

	- 变量传值

		- 值传递

			- 将原值复制一份，新值存到另一个地址（两变量没有关系）

		- 引用传递

			- 将原值的地址传给新值，两变量指向同一块内存空间
			- $n = &$m

- 常量const/constant

	- 不可改变,不需要变量符号$,通常以大写字母为主
	- define('常量名'，常量值)

		- 该方式可用特殊字符

	- const 常量名 = 值
	- 系统常量

		- 可直接使用
		- PHP_VERSION：系统版本
PHP_INT_SIZE：int所占用的字节数
PHP_INT_MAX：整形能表示的最大值（带符号）

	- 特殊常量（系统魔术常量）

		- 魔术常量的值会跟着环境变化，但用户改变不了
		- __DIR__：当前被执行的脚本所在电脑的绝对路径
__FILE__：当前被执行的脚本所在电脑的绝对路径（带文件自己的名字）
__LINE__：当前所属的行数
		-  __NAMESPACE__：当前所属的命名空间
 __METHOD__：当前所属的方法
 __CLASS__：当前所属的类

- 数据类型

	- 简单类型

		- 整形：int/integer(四字节)

			- 整形进制

				- $m = 120;//10
$n = 0b110;//2  
$n1 = 0120;//8
$m1 = 0x120;//16

			- 进制转换

				- decbin($m);//（10转2）
decoct($m1);//(10转8)
dechex(65);//（10转16）
				- bindec($n);//(2转10)

		- 浮点型：float/double(八字节)

			- 整形超过自身存储的大小后会用浮点型

		- 字符串：string
		- 布尔：bool/boolean

			- empty($b2)

				- 判断数据的值是否为空（NULL）

			- isset($f1)

				- 判断数据存储的变量本身是否存在

	- 复合数据类型

		- 对象类型：object，存放对象（面向对象）
		- 数组类型：array一次性存储多个数据。

	- 特殊数据类型

		- 资源类型：resource，存放资源数据（PHP外部数据）
		- 空类型：NULL

	- 类型转换

		- 自动转换
		- 强制转换

	- 类型判断

		- is_int($a)
		- is_float($a)
		- Var_dump(is_int($a));

			- 不能使用echo输出

		- gettype($a)

			- 不同于强制转换（复制新的值来判断）

		- settype($b, 'int')

			- 直接转换原数值

- 运算符

	- 全等于（===）：大小及数据类型都相同,反之!==
	- 逻辑运算符：&&,||,!
	- 连接运算符

		- .

			- 将两个字符串链接到一起

		- .=

			- 复合运算，将左边的内容与右边的内容连接起来，然后重新赋值给左边变量

	- 错误抑制符

		- 取消警告
		- @:   在可能出错的表达式前面加上

	- 三目运算符

		- 表达式1 ？ 表达式2 ：表达式3;

	- 自操作运算符：++、--
	- 位运算符

		- 计算机码

			- 原码、反码和补码

				- 原码：数据从十进制转换成二进制得到的结果

					- 正数：左边符号位位0
					- 负数：左边符号位位1

				- 反码：针对负数，符号位不变，其他位取反
				- 补码：针对负数，反码+1

		- 位运算

			- 取出计算机中最小的单位（bit）进行运算

				- &:   按位与，两个位都位1，结果为1，否则为0
|： 或
~：按位非
^:   按位异或，两个相同则为0，不同则为1
<<: 按位左移(x2)，整个位（32位），向左移动一位，右边补0
>>:  按位右移(/2)，整个位（32位），向右移动一位，左边补符号位0或1

- 流程控制

	- if

		- if(1)  {}
else {}
		- if()
{}
 elseif()
 {}
 else{}

	- switch()
        {
            case 值1:
                     ;
                break;
            case 值2:
                     ;
            default:
                break;
        }
	- for(初始化条件;边界判定;条件变化)
        {}
	- while

		- while()
        {}
		- do{

        }while();

	- 中断控制

		- contiue 层级;   默认是1
		- break 层级;     默认是1

	- 流程控制替代语法（html与PHP混搭）

		- for(;;){ → for(;;):
        } → endfor;         #其余以此类推

- HTML交互
- 文件包含

	- 代码共享（向上包含（索要））
	- 向下包含（给予）
	- include/require：包含文件，系统遇到一次执行一次
	- include once：自动判断文件包含过程中，是否已经包含过，系统遇到多次只执行一次。
	- include '文件名'

- 函数

	- function   name(){}
	- 作用域

		- 全局变量：用户普通定义的变量（函数外部）
		- 局部变量：函数内部。
		- 超全局变量：系统定义的变量（预定义变量：$_SERVER/$_POST）

	-  global关键字：是一种在函数里面定义变量的一种方式。
	- 静态变量

		- 函数内部定义的变量，用来实现跨函数共享数据的变量。(同一个函数被多次调用)
		- 用法：一般统计当前函数被调用的次数；递归
		- 语法：static $变量名 = 值;

	- 可变函数

		- 变量 = 值（该值 = 另一个函数名）
		- 则可使用 变量() 来充当函数名使用

	- 匿名函数

		- 类似py的lamda函数
		- $niming = function(){
            echo 'hai', '<hr>/';
        };
		- 变量保存匿名函数，本质得到的是一个对象（CLosure）
		- 闭包（closure）

			- 函数内部有一些局部变量在函数执行后没有被释放，是因为函数内部还有对应的函数在引用（函数的内 部函数：匿名函数）

	- 输入输出函数

		- echo print('<br/>sf<br/>');
		- print 'halo<br/>';
		- print('sdsdd<br/>');
		- print_r($s);

			- 类似var_dump,但不会输出数据类型，只输出值

	- 时间函数

		- date("<br/>l jS \of F Y h:i:s A");//时间戳，格式
		- time() 

			- 当前时间戳

		-  microtime()
		- strtotime("now")

	- 数学函数

		- rand();得到一个指定区间的随机数

- 伪类型

	- mixe：混合的，可以是多种PHP中的数据类型
	- number：数值的，可以是任意数值类型（整形和浮点型）

- 错误处理
- 字符串

	- 定义

		- 一般定义
		- 结构化定义

			- 边界符必须顶格 

	-  $str3 = "afaf $a";#双引号能解析变量，能识别$
	- 字符串转义

		- \$：特定识别
		- \r：回车

	- 字符串长度

		- strlen()
		- mbstring扩展：mb_strlen()

	- 字符串函数

		- 转换函数

			- implode(连接方式，数组)：将数组中的元素按照某个规则连接成一个字符串
explode(分割字符，字符串)：将字符串按照某种格式分割，变成数组
 str_split(字符串，字符长度):按照指定长度分离

		- 截取函数

			- trim(字符串[,指定字符])：去除两边的空格（默认），可指定要去除的内容
 ltrim（）：去除左边的
 rtrim（）：右边
 substr(字符串，起始位置[，长度])：指定位置开始截取字符串，可指定截取长度
 strstr(字符串，匹配字符)：从指定位置截取到最后（可用来取文件后缀）

		- 大小写转换

			- strtolower:全部小写
strtoupper:全部大写
ucfirst：首字母大写

		- 查找函数

			- strpos():查找字符串中首次出现的位置，返回false
 strrpos()：最后出现的位置

		- 替换函数

			- str_replace(匹配目标，替换内容，字符串)

		- 格式化

			- printf()
sprintf()

		- 其他

			- str_repeat():重复某个字符串N次
 str_shuffle()：随机打乱字符

- 数组

	- 类型

		- 定义

			- $arr = array(1,2,3)
			- $arr = [1,2,3]
			- $arr[] = 1

				- 隐形定义数组

					- 给变量增加中括号

		- 关联数组

			- 索引下标为字符串

		- 多维数组

			- 二维数组
			- 在第二维的数组元素中可以继续是数组
			- php维度没有维度限制

		- 异性数组（不常用）

			- 元素不规则

				- 有普通变量，也有数组

	- 数组遍历

		- 含义
		- Foreach遍历

			- 语法

				- foreach($arrVar  as[$下标 => ]  $值){}

					- 通$下标访问元素的下标
					- 通过$值访问元素的值
					- 如果是关联数组，就需要下标

			- 原理

				- 本质是数组内部有一颗指针，默认指向数组元素的第一个元素

		- for循环遍历

			- 基于对应起始条件

				- count()

			- 下标是规律的数字

		- while、each、list配合遍历

			- while与for实现类似
			- each()

				- 获取数组指针指向的元素的下标和值

			- list()

				- 一种结构
				- 提供一堆变量，去数组中取得元素值
				- 下标一一对应，必须从0开始

	- 数组函数

		- 排序函数

			- sort（）

				- 顺序排序

			- rsort

				- 逆序

			- asort

				- 保持原来的下标，逆序

			- ksort

				- 按照键名排序，顺序

			- krsort
			- shuffle

				- 随机打乱数组元素

		- 指针函数

			- reset：重置指针，定位到首位
			- end：重置，定位到末尾
			- next：取得内部指针向后移
			- prev：上移
			- current：当前指针对应的元素值
			- key：当前指针对应的键

		- 其他

			- count
			- arr_push

				- 加入一个元素

			- arr_pop

				- 删除元素

			- arr_shift

				- 从数组中取出一个元素（数组前面）

			- arr_unshift

				- 从数组中加入一个元素（数组前面）

## 分支主题 2

*XMind: ZEN - Trial Version*